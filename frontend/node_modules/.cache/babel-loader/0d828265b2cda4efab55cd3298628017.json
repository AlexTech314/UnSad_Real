{"ast":null,"code":"import _toConsumableArray from\"C:/Users/alest/personal_projects/UnSad_Real/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/alest/personal_projects/UnSad_Real/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';// import 'react-responsive-carousel/lib/styles/carousel.min.css';\nimport{Carousel}from'react-responsive-carousel';import{Link}from'react-router-dom';import{detailsProduct}from'../actions/productActions';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';export default function ProductScreen(props){var dispatch=useDispatch();var productId=props.match.params.id;var _useState=useState(props.match.params.size),_useState2=_slicedToArray(_useState,2),size=_useState2[0],setSize=_useState2[1];var completelyOutOfStock=props.match.params.completelyOutOfStock[0];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),qty=_useState4[0],setQty=_useState4[1];var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(detailsProduct(productId));},[dispatch,productId]);var addToCartHandler=function addToCartHandler(){props.history.push(\"/cart/\".concat(productId,\"?qty~\").concat(qty,\"~?size=!!!\").concat(size));};return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Back to result\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsxs(Carousel,{showStatus:false,showArrows:true,showThumbs:false,children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"img\",{id:\"img\",className:\"carousel\",src:product.image,alt:product.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"img\",{id:\"img2\",className:\"carousel\",src:product.image2,alt:product.name})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h1\",{children:product.name})}),/*#__PURE__*/_jsxs(\"li\",{className:\"indent\",children:[\"Price : $\",product.price]}),/*#__PURE__*/_jsxs(\"li\",{className:\"indent\",children:[\"Description:\",/*#__PURE__*/_jsx(\"p\",{children:product.description})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card card-body\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Price\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[\"$\",product.price]})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{children:completelyOutOfStock===\"t\"?/*#__PURE__*/_jsx(\"span\",{className:\"danger\",children:\"Unavailable\"}):/*#__PURE__*/_jsx(\"span\",{className:\"success\",children:\"In Stock\"})})]})}),completelyOutOfStock===\"f\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Size\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{value:size,onChange:function onChange(e){return setSize(e.target.value);},children:[product.countInStockM>0&&/*#__PURE__*/_jsx(\"option\",{value:\"M\",children:\"M\"},\"M\"),product.countInStockL>0&&/*#__PURE__*/_jsx(\"option\",{value:\"L\",children:\"L\"},\"L\"),product.countInStockXL>0&&/*#__PURE__*/_jsx(\"option\",{value:\"XL\",children:\"XL\"},\"XL\"),\") )\"]})}),/*#__PURE__*/_jsx(\"div\",{children:\"Qty\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:[\" \",size===\"M\"&&_toConsumableArray(Array(product.countInStockM).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);}),size===\"L\"&&_toConsumableArray(Array(product.countInStockL).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);}),size===\"XL\"&&_toConsumableArray(Array(product.countInStockXL).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})]})})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:addToCartHandler,className:\"primary block\",children:\"Add to Cart\"})})]})]})})})]})]})});}","map":{"version":3,"sources":["C:/Users/alest/personal_projects/UnSad_Real/frontend/src/screens/ProductScreen.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Carousel","Link","detailsProduct","LoadingBox","MessageBox","ProductScreen","props","dispatch","productId","match","params","id","size","setSize","completelyOutOfStock","qty","setQty","productDetails","state","loading","error","product","addToCartHandler","history","push","image","name","image2","price","description","e","target","value","countInStockM","countInStockL","countInStockXL","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n// import 'react-responsive-carousel/lib/styles/carousel.min.css';\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport { Link } from 'react-router-dom';\r\nimport { detailsProduct } from '../actions/productActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\n\r\n\r\nexport default function ProductScreen(props) {\r\n  const dispatch = useDispatch();\r\n  const productId = props.match.params.id;\r\n  const [size, setSize] = useState(props.match.params.size);\r\n  const completelyOutOfStock = props.match.params.completelyOutOfStock[0];\r\n  const [qty, setQty] = useState(1);\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { loading, error, product } = productDetails;\r\n  \r\n  useEffect(() => {\r\n    dispatch(detailsProduct(productId));\r\n}, [dispatch, productId]);\r\n\r\n  const addToCartHandler = () => {\r\n    props.history.push(`/cart/${productId}?qty~${qty}~?size=!!!${size}`);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <div>\r\n          <Link to=\"/\">Back to result</Link>\r\n          <div className=\"row top\">\r\n            <div className=\"col-1\">\r\n              <Carousel showStatus={false} showArrows showThumbs={false}>\r\n                <div className=\"col-3\">\r\n                  <img id=\"img\"\r\n                    className=\"carousel\"\r\n                    src={product.image}\r\n                    alt={product.name}\r\n                  ></img>\r\n                </div>\r\n                <div className=\"col-3\">\r\n                  <img id=\"img2\"\r\n                    className=\"carousel\"\r\n                    src={product.image2}\r\n                    alt={product.name}\r\n                  ></img>\r\n                </div>\r\n              </Carousel>\r\n            </div>\r\n            <div className=\"col-1\">\r\n              <ul>\r\n                <li>\r\n                  <h1>{product.name}</h1>\r\n                </li>\r\n               \r\n                <li className=\"indent\">Price : ${product.price}</li>\r\n                <li className=\"indent\">\r\n                  Description:\r\n                  <p>{product.description}</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"col-1\">\r\n              <div className=\"card card-body\">\r\n                <ul>\r\n                  <li>\r\n                    <div className=\"row\">\r\n                      <div>Price</div>\r\n                      <div className=\"price\">${product.price}</div>\r\n                    </div>\r\n                  </li>\r\n                  <li>\r\n                    <div className=\"row\">\r\n                      <div>Status</div>\r\n                      <div>\r\n                        {completelyOutOfStock === \"t\" ? (\r\n                          <span className=\"danger\">Unavailable</span>\r\n                        ) : (\r\n                          <span className=\"success\">In Stock</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                  {completelyOutOfStock === \"f\" && (\r\n                    <>\r\n                      <li>\r\n                        <div className=\"row\">\r\n                        <div>Size</div>\r\n                        <div>\r\n                        <select\r\n                              value={size}\r\n                              onChange={(e) => setSize(e.target.value)}\r\n                            >\r\n                                  {product.countInStockM > 0 && <option key=\"M\" value=\"M\">\r\n                                    M\r\n                                  </option>}\r\n                                  {product.countInStockL > 0 && <option key=\"L\" value=\"L\">\r\n                                    L\r\n                                  </option>}\r\n                                  {product.countInStockXL > 0 && <option key=\"XL\" value=\"XL\">\r\n                                    XL\r\n                                  </option>}\r\n                                )\r\n                              )\r\n                            </select>\r\n                            </div>\r\n                          <div>Qty</div>\r\n                          <div>\r\n                            <select\r\n                              value={qty}\r\n                              onChange={(e) => setQty(e.target.value)}\r\n                            > {size === \"M\" && [...Array(product.countInStockM).keys()].map(\r\n                                (x) => (\r\n                                  <option key={x + 1} value={x + 1}>\r\n                                    {x + 1}\r\n                                  </option>\r\n                                )  \r\n                              )}\r\n                              {size === \"L\" && [...Array(product.countInStockL).keys()].map(\r\n                                (x) => (\r\n                                  <option key={x + 1} value={x + 1}>\r\n                                    {x + 1}\r\n                                  </option>\r\n                                )  \r\n                              )}\r\n                              {size === \"XL\" && [...Array(product.countInStockXL).keys()].map(\r\n                                (x) => (\r\n                                  <option key={x + 1} value={x + 1}>\r\n                                    {x + 1}\r\n                                  </option>\r\n                                )  \r\n                              )}\r\n                            </select>\r\n                            \r\n                          </div>\r\n                        </div>\r\n                      </li>\r\n                      <li>\r\n                        <button\r\n                          onClick={addToCartHandler}\r\n                          className=\"primary block\"\r\n                        >\r\n                          Add to Cart\r\n                        </button>\r\n                      </li>\r\n                    </>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}